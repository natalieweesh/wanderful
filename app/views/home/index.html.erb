
<section class="intro group">



  <%= button_to "your profile", user_url(current_user.id), method: :get %>

</section>
<section class="buttons_group group">
  <button class="find_button">find something to do</button>
  <button class="share_button">share something to do</button>
</section>

<section class="share_something">
  <h3>share stuff to do</h3>
  <%= button_to "add an activity", new_activity_url, method: :get, class: "big-button bounce-in" %>
  <%= button_to "add an itinerary", new_itinerary_url, method: :get, class: "big-button bounce-in" %>
  <input type="submit" class="back_button" value="back">
</section>

<section class="find_something">
  <h3>find something to do</h3>
  <button class="search_button left-right-bounce">search for something to do</button>
  <%= button_to "see what other people are up to", all_users_url, method: :get, class: "big-button top-down-bounce" %>  
  <%= button_to "find something random to do", itinerary_url(Itinerary.get_random.id), method: :get, class: "big-button right-left-bounce" %>
  <%= button_to "top 10 favorited itineraries", itineraries_url, method: :get, class: "big-button" %>
  <input type="submit" class="back_button small-button" value="back">
</section>

<section class="query_group group">
  
  <div id="accordion">
  
  <h2>search for activities</h2>
  <div>
  <section class="activity-search-form group">
  
  
  <form action="<%= search_activities_url %>" method="get">
    <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
    
    <label>by neighborhood</label>
    
    
    <div class="select-box-container">
      <select id="select-box-neighborhood-2" name="search[neighborhood]">
        <option value=""></option>
        <% @all_neighborhoods.each do |neigh| %>
        <option value="<%= neigh %>"><%= neigh %></option>
        <% end %>
        
      </select>
    </div>
    
    
    
   
        
    
    <div class="select-box-container">
    <div id="select-box-1">
    </div>
    </div>
    <input type="hidden" name="search[tags]" id="tags-1">
 
        
    <input class="search-button" type="submit" value="search">
  </form>

  </section>
  </div>
  
  <h2>search for itineraries</h2>
  <div>
  <form class="itinerary-search-form group" action="<%= search_itineraries_url %>" method="get">
    <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
    <label>time you have to spare
    <select name="search[itinerary][time]">
      <option value=""></option>
      <% Itinerary.get_times.each_with_index do |time, index| %>
        <option value="<%= index %>"><%= time %></option>
      <% end %>
    </select>
    </label>
    
    <br><br>

    <label for"select-box-neighborhood">neighborhood</label>
    
    <div class="select-box-container">
      <select id="select-box-neighborhood" name="search[activity][search][neighborhood]">
        <option value=""></option>
        <% @all_neighborhoods.each do |neigh| %>
        <option value="<%= neigh %>"><%= neigh %></option>
        <% end %>
        
      </select>
    </div>
    
    <label>tags</label>
    <div class="select-box-container">
    <div id="select-box-2">
    </div>
    </div>
    <input type="hidden" name="search[activity][search][tags]" id="tags-2" value="">
 
    
    <input class="search-button" type="submit" value="search">
  </form>
  </div>
  
  <br><br>
  </div> <!-- end accordion div -->

  <input type="submit" class="back_button" value="back">
</section>


<script type="application/json" id="all_neighbs">
  <%= @all_neighborhoods.to_json.html_safe %>
</script>

<script type="application/json" id="all_tags">
  <%= @tag_names.to_json.html_safe %>
</script>

<script>
  var allTags = JSON.parse($("#all_tags").html());
  $("#select-box-1").select2({width: "element", tags: allTags});
  $("#select-box-1").on("change", function(event) {
    $("#tags-1").val($("#select-box-1").val());
  });
</script>

<script>
  var allTags = JSON.parse($("#all_tags").html());
  $("#select-box-2").select2({width: "element", tags: allTags});
  $("#select-box-2").on("change", function(event) {
    $("#tags-2").val($("#select-box-2").val());
  });
</script>

<script>
$("#select-box-neighborhood").select2({width: "element"});
$("#select-box-neighborhood-2").select2({width: "element"});
</script>


<script type="application/javascript">

  $( "#accordion" ).accordion({collapsible: true, active: false, icons: false});


  $(document).ready($('.find_button').addClass("animated fadeInLeftBig"));
  $(document).ready($('.share_button').addClass("animated fadeInRightBig"));
  $(document).ready($('.find_something').find('.left-right-bounce').addClass("animated bounceInLeft"));
  $(document).ready($('.find_something').find('.right-left-bounce').addClass("animated bounceInRight"));
  $(document).ready($('.find_something').find('.top-down-bounce').addClass("animated bounceInDown"))
  $(document).ready($('.share_something').find('.bounce-in').addClass("animated bounceIn"))


  $(function() {
    $(".share_something").css("display", "none");
    $(".find_something").css("display", "none");
    $(".query_group").css("display", "none");
  });

  $(".find_button").on("click", function(){
    $(".find_something").css("display", "block");
    $(".buttons_group").css("display", "none");
  });
  
  $(".share_button").on("click", function() {
    $(".share_something").css("display", "block");
    $(".buttons_group").css("display", "none");
  });
  
  $(".share_something").find(".back_button").on("click", function() {
    $(".buttons_group").css("display", "block");
    $(".share_something").css("display", "none");
    $(".find_something").css("display", "none");
  });

  $(".find_something").find(".back_button").on("click", function() {
    $(".buttons_group").css("display", "block");
    $(".share_something").css("display", "none");
    $(".find_something").css("display", "none");
  });
  
  $(".search_button").on("click", function() {
    $(".find_something").css("display", "none");
    $(".query_group").css("display", "block")
  });
  
  $(".query_group").find(".back_button").on("click", function() {
    $(".query_group").css("display", "none");
    $(".find_something").css("display", "block");
  });
  

  
</script>