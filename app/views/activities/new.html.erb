<h3>add a new activity</h3>

<form class="new-activity-form" action="<%= activities_url %>" method="post">
  <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
  <label for="activity_description">description</label>
  <input type="text" name="activity[description]" id="activity_description">
  <br><br>
  <label for="activity_venue">venue</label>
  <input type="text" name="activity[venue]" id="activity_venue">
  <br><br>
  <label for="activity_neighborhood">neighborhood</label>
  <input type="text" name="activity[neighborhood]" id="activity_neighborhood">
  <br><br>
  
  
  <!-- <label for="activity_tags">tags: #</label>
    <input id="activity_tags" data-autocomplete="/tags/autocomplete_tag_name" name="activity[tags]" size="20" type="text" data-delimiter=" #" multiple="true"/> -->

    <br><br>
  <input class="go-button" type="submit" value="go!">
  
  <div class="select-box-container">
  <div id="select-box">
  </div>
  </div>
  <input type="hidden" name="activity[tags]" id="tags">
    
</form>

<script type="application/json" id="all_tags">
  <%= @tag_names.to_json.html_safe %>
</script>

<script>
  var allTags = JSON.parse($("#all_tags").html());
  console.log(allTags);
  $("#select-box").select2({width: "element", tags: allTags});
  $("#select-box").on("change", function(event) {
    alert("it's been changed");
    alert($("#select-box").val());
    $("#tags").val($("#select-box").val());
  });
</script>


